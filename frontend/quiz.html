<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blood Donation Quiz - BloodConnect</title>
  <link rel="stylesheet" href="shared.css">
  <link rel="shortcut icon" href="../assets/2.png" type="image/x-icon">
  <style>
    .quiz-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .quiz-progress {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 20px 30px;
      border-radius: 20px;
      margin-bottom: 40px;
      box-shadow: var(--shadow-md);
    }

    .progress-bar-container {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
    }

    .progress-step {
      flex: 1;
      height: 8px;
      background: rgba(220, 38, 38, 0.1);
      border-radius: 10px;
      transition: all 0.4s ease;
    }

    .progress-step.active {
      background: linear-gradient(135deg, var(--blood-red), var(--blood-dark));
      box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
    }

    .progress-text {
      text-align: center;
      font-weight: 600;
      color: var(--dark);
      font-size: 0.95rem;
    }

    .quiz-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 50px;
      border-radius: 30px;
      border: 2px solid rgba(220, 38, 38, 0.1);
      box-shadow: var(--shadow-xl);
      animation: fadeInUp 0.6s ease;
    }

    .question-number {
      display: inline-block;
      padding: 8px 20px;
      background: linear-gradient(135deg, var(--blood-red), var(--blood-dark));
      color: white;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 700;
      margin-bottom: 25px;
    }

    .question-text {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 35px;
      line-height: 1.4;
    }

    .options-container {
      display: grid;
      gap: 15px;
      margin-bottom: 30px;
    }

    .option {
      padding: 20px 25px;
      background: white;
      border: 3px solid rgba(220, 38, 38, 0.1);
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 1rem;
      font-weight: 500;
      color: var(--dark);
    }

    .option:hover {
      border-color: var(--blood-red);
      background: rgba(220, 38, 38, 0.02);
      transform: translateX(5px);
    }

    .option-letter {
      width: 40px;
      height: 40px;
      background: rgba(220, 38, 38, 0.1);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: var(--blood-red);
      flex-shrink: 0;
    }

    .option.selected {
      border-color: var(--blood-red);
      background: rgba(220, 38, 38, 0.05);
    }

    .option.selected .option-letter {
      background: linear-gradient(135deg, var(--blood-red), var(--blood-dark));
      color: white;
    }

    .option.correct {
      border-color: #10b981;
      background: rgba(16, 185, 129, 0.05);
    }

    .option.correct .option-letter {
      background: #10b981;
      color: white;
    }

    .option.wrong {
      border-color: #ef4444;
      background: rgba(239, 68, 68, 0.05);
    }

    .option.wrong .option-letter {
      background: #ef4444;
      color: white;
    }

    .quiz-actions {
      display: flex;
      gap: 15px;
      justify-content: center;
    }

    .btn-next {
      padding: 16px 40px;
      background: linear-gradient(135deg, var(--blood-red), var(--blood-dark));
      color: white;
      border: none;
      border-radius: 14px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
    }

    .btn-next:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: var(--shadow-xl);
    }

    .btn-next:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .result-container {
      text-align: center;
    }

    .result-icon {
      font-size: 6rem;
      margin-bottom: 20px;
      animation: scaleIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes scaleIn {
      from {
        transform: scale(0);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .result-title {
      font-size: 2.5rem;
      font-weight: 900;
      background: linear-gradient(135deg, var(--blood-red), var(--blood-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
    }

    .result-score {
      font-size: 4rem;
      font-weight: 900;
      color: var(--blood-red);
      margin-bottom: 20px;
    }

    .result-message {
      font-size: 1.2rem;
      color: var(--gray);
      margin-bottom: 30px;
      line-height: 1.8;
    }

    .result-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 40px 0;
    }

    .result-stat {
      padding: 25px;
      background: white;
      border-radius: 15px;
      border: 2px solid rgba(220, 38, 38, 0.1);
    }

    .result-stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--blood-red);
      display: block;
      margin-bottom: 8px;
    }

    .result-stat-label {
      font-size: 0.9rem;
      color: var(--gray);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .share-section {
      background: rgba(220, 38, 38, 0.05);
      padding: 30px;
      border-radius: 20px;
      margin-top: 30px;
    }

    .share-section h3 {
      font-size: 1.3rem;
      color: var(--dark);
      margin-bottom: 15px;
    }

    .share-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
    }

    .share-btn {
      padding: 12px 24px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-family: 'Poppins', sans-serif;
    }

    .share-btn:hover {
      transform: translateY(-3px);
    }

    @media (max-width: 768px) {
      .quiz-card {
        padding: 30px 25px;
      }

      .question-text {
        font-size: 1.4rem;
      }

      .result-stats {
        grid-template-columns: 1fr;
      }

      .share-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="bg-animation">
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
    <div class="blood-particle"></div>
  </div>

  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">
        <span class="logo-text">💉 RakhtSetu</span>
      </a>
      <div class="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="stories.html" class="nav-link">Stories</a>
        <a href="quiz.html" class="nav-link">Quiz</a>
        <a href="partner.html" class="nav-link">Partner</a>
        <a href="register.html" class="nav-btn">Donate Now</a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="page-header">
      <div class="page-badge">🧠 Test Your Knowledge</div>
      <h1 class="page-title">Blood Donation Quiz</h1>
      <p class="page-subtitle">How much do you know about blood donation? Test your awareness and learn life-saving facts!</p>
    </div>

    <div class="quiz-container">
      <div class="quiz-progress">
        <div class="progress-bar-container" id="progressBar"></div>
        <div class="progress-text" id="progressText">Question 1 of 8</div>
      </div>

      <div class="quiz-card" id="quizCard">
        <!-- Questions will be loaded here -->
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-brand">
        <h3>💉 BloodConnect</h3>
        <p>Connecting donors with those in need, one drop at a time. Join our mission to save lives through safe and efficient blood donation.</p>
      </div>
      <div class="footer-links">
        <div class="footer-column">
          <h4>Quick Links</h4>
          <a href="index.html">Home</a>
          <a href="stories.html">Stories</a>
          <a href="quiz.html">Quiz</a>
          <a href="partner.html">Partner With Us</a>
        </div>
        <div class="footer-column">
          <h4>Resources</h4>
          <a href="#about">About Blood Donation</a>
          <a href="#faq">FAQs</a>
          <a href="#contact">Contact Us</a>
          <a href="#privacy">Privacy Policy</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 BloodConnect. All rights reserved. Saving lives together.</p>
    </div>
  </footer>

  <script>
    const questions = [
      {
        question: "How often can a healthy person donate blood?",
        options: [
          "Every 2 weeks",
          "Every 3 months",
          "Once a year",
          "Every month"
        ],
        correct: 1,
        explanation: "Adults can safely donate whole blood every 3 months (12 weeks)."
      },
      {
        question: "What is the universal blood donor type?",
        options: [
          "AB+",
          "O+",
          "O-",
          "A+"
        ],
        correct: 2,
        explanation: "O- is the universal donor type and can be given to anyone in emergencies."
      },
      {
        question: "How much blood is typically donated in one session?",
        options: [
          "250 ml",
          "350 ml",
          "450 ml",
          "650 ml"
        ],
        correct: 2,
        explanation: "A standard blood donation is approximately 450 ml (about 1 pint)."
      },
      {
        question: "What is the minimum age to donate blood in India?",
        options: [
          "16 years",
          "18 years",
          "21 years",
          "25 years"
        ],
        correct: 1,
        explanation: "In India, you must be at least 18 years old to donate blood."
      },
      {
        question: "How long does the blood donation process usually take?",
        options: [
          "5-10 minutes",
          "10-15 minutes",
          "30-45 minutes",
          "1-2 hours"
        ],
        correct: 1,
        explanation: "The actual donation takes about 10-15 minutes, though the entire process including registration takes 30-45 minutes."
      },
      {
        question: "Which of these is a requirement before donating blood?",
        options: [
          "Fasting for 12 hours",
          "Having a good meal",
          "Intense exercise",
          "Taking vitamin supplements"
        ],
        correct: 1,
        explanation: "It's important to have a good meal before donating to maintain stable blood sugar levels."
      },
      {
        question: "One blood donation can potentially save how many lives?",
        options: [
          "1 life",
          "2 lives",
          "3 lives",
          "5 lives"
        ],
        correct: 2,
        explanation: "One donation can be separated into components (red cells, platelets, plasma) and save up to 3 lives!"
      },
      {
        question: "What percentage of the population donates blood regularly?",
        options: [
          "Less than 1%",
          "5-10%",
          "15-20%",
          "25-30%"
        ],
        correct: 0,
        explanation: "Sadly, less than 1% of India's population donates blood regularly, despite 38% being eligible."
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let selectedAnswer = null;
    let answeredQuestions = [];

    function initQuiz() {
      renderProgressBar();
      renderQuestion();
    }

    function renderProgressBar() {
      const progressBar = document.getElementById('progressBar');
      progressBar.innerHTML = '';
      
      for (let i = 0; i < questions.length; i++) {
        const step = document.createElement('div');
        step.className = 'progress-step';
        if (i < currentQuestion) {
          step.classList.add('active');
        }
        progressBar.appendChild(step);
      }
      
      document.getElementById('progressText').textContent = 
        `Question ${currentQuestion + 1} of ${questions.length}`;
    }

    function renderQuestion() {
      const quizCard = document.getElementById('quizCard');
      const q = questions[currentQuestion];
      
      quizCard.innerHTML = `
        <div class="question-number">Question ${currentQuestion + 1}</div>
        <h2 class="question-text">${q.question}</h2>
        <div class="options-container" id="optionsContainer">
          ${q.options.map((option, index) => `
            <div class="option" data-index="${index}">
              <div class="option-letter">${String.fromCharCode(65 + index)}</div>
              <span>${option}</span>
            </div>
          `).join('')}
        </div>
        <div class="quiz-actions">
          <button class="btn-next" id="nextBtn" disabled>
            ${currentQuestion < questions.length - 1 ? 'Next Question →' : 'See Results 🎯'}
          </button>
        </div>
      `;

      const options = document.querySelectorAll('.option');
      const nextBtn = document.getElementById('nextBtn');
      
      options.forEach(option => {
        option.addEventListener('click', () => selectOption(option));
      });
      
      nextBtn.addEventListener('click', handleNext);
    }

    function selectOption(selectedOption) {
      if (selectedAnswer !== null) return;
      
      const options = document.querySelectorAll('.option');
      const selectedIndex = parseInt(selectedOption.dataset.index);
      const correctIndex = questions[currentQuestion].correct;
      
      selectedAnswer = selectedIndex;
      
      // Show correct/wrong
      options[correctIndex].classList.add('correct');
      if (selectedIndex !== correctIndex) {
        selectedOption.classList.add('wrong');
      } else {
        score++;
      }
      
      // Enable next button
      document.getElementById('nextBtn').disabled = false;
      
      answeredQuestions.push({
        question: currentQuestion,
        selected: selectedIndex,
        correct: correctIndex,
        isCorrect: selectedIndex === correctIndex
      });
    }

    function handleNext() {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        selectedAnswer = null;
        renderProgressBar();
        renderQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const percentage = Math.round((score / questions.length) * 100);
      let message, icon, title;
      
      if (percentage >= 80) {
        title = "You're a Lifesaver! 🌟";
        icon = "🏆";
        message = "Outstanding! You're a blood donation expert. Your knowledge could inspire others to donate and save lives!";
      } else if (percentage >= 60) {
        title = "Great Job! 💪";
        icon = "🎉";
        message = "Well done! You have solid knowledge about blood donation. Keep learning and spreading awareness!";
      } else if (percentage >= 40) {
        title = "Good Effort! 👍";
        icon = "📚";
        message = "Not bad! There's room to learn more. Every bit of knowledge helps save lives!";
      } else {
        title = "Keep Learning! 💡";
        icon = "🌱";
        message = "Don't worry! Learning about blood donation is a journey. You're already making a difference by trying!";
      }

      const quizCard = document.getElementById('quizCard');
      quizCard.innerHTML = `
        <div class="result-container">
          <div class="result-icon">${icon}</div>
          <h2 class="result-title">${title}</h2>
          <div class="result-score">${score}/${questions.length}</div>
          <p class="result-message">${message}</p>
          
          <div class="result-stats">
            <div class="result-stat">
              <span class="result-stat-value">${percentage}%</span>
              <span class="result-stat-label">Score</span>
            </div>
            <div class="result-stat">
              <span class="result-stat-value">${score}</span>
              <span class="result-stat-label">Correct</span>
            </div>
            <div class="result-stat">
              <span class="result-stat-value">${questions.length - score}</span>
              <span class="result-stat-label">Wrong</span>
            </div>
          </div>

          <div class="share-section">
            <h3>Share Your Score!</h3>
            <div class="share-buttons">
              <button class="share-btn btn-primary">🎯 Take Quiz Again</button>
              <button class="share-btn btn-secondary">📘 Learn More</button>
            </div>
          </div>
        </div>
      `;

      // Update progress bar to show completion
      const progressSteps = document.querySelectorAll('.progress-step');
      progressSteps.forEach(step => step.classList.add('active'));
      document.getElementById('progressText').textContent = 'Quiz Complete! 🎉';

      // Add restart functionality
      document.querySelector('.share-btn.btn-primary').addEventListener('click', () => {
        currentQuestion = 0;
        score = 0;
        selectedAnswer = null;
        answeredQuestions = [];
        initQuiz();
      });

      document.querySelector('.share-btn.btn-secondary').addEventListener('click', () => {
        window.location.href = 'stories.html';
      });
    }

    // Navbar scroll effect
    window.addEventListener('scroll', function() {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // Initialize quiz on page load
    initQuiz();
  </script>
</body>
</html>